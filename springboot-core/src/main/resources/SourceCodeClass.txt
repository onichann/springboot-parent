SingletonSupplier--å•ä¾‹è·å–supplier
ListenableFutureAdapter--é€‚é…å™¨
FastClass--cglibä»£ç†ç±»

String body = StreamUtils.copyToString(super.getInputStream(), StandardCharsets.UTF_8);

private ResolvableType resolveDefaultEventType(ApplicationEvent event) {
		return ResolvableType.forInstance(event);
}

public boolean supportsEventType(Class<? extends ApplicationEvent> eventType) {
        return ApplicationReadyEvent.class.isAssignableFrom(eventType) || RefreshEvent.class.isAssignableFrom(eventType);
    }
    // ApplicationReadyEvent æ˜¯ä¸æ˜¯ eventTypeçš„çˆ¶ç±»  ï¼Œï¼ˆç›‘å¬çš„çˆ¶ç±»ï¼Œå­ç±»çš„æ¶ˆæ¯å°±ä¹Ÿä¼šæœ‰äº†ï¼‰


GenericApplicationListenerAdapter  --75è¡Œ  åˆ¤å®šlistenerç›‘å¬çš„äº‹ä»¶ç±»å‹ ä¸ æ”¶åˆ°çš„äº‹ä»¶æ˜¯å¦ä¸€ä¸ªç±»å‹

æˆ–è€…ç”¨
for(final IListener listener : tempLlisteners){
						ParameterizedType genericSuperclass = (ParameterizedType) listener.getClass().getGenericInterfaces()[0];
						Class<?> eventClass = (Class<?>) genericSuperclass.getActualTypeArguments()[0];
						if(event.getClass().equals(eventClass)){
							listener.event(event);
						}
					}

äº‹ä»¶ç›‘å¬  guava EventBus




æœåŠ¡ç«¯è¯·æ±‚  æœåŠ¡å™¨  rsaå…¬é’¥åŠ å¯† aes key

å®¢æˆ·ç«¯ rsaç§é’¥è§£å¯† å¾—åˆ°aes key  ç”¨aesåŠ å¯† bodyæ•°æ®  å‘é€ + sha256æ‘˜è¦ç®—æ³• bodyæ•°æ®ï¼ˆé€šè¿‡request-hash headerä¼ è¾“ï¼‰

æœåŠ¡ç«¯ aes key è§£å¯† è·å¾— æ‘˜è¦ç®—æ³•å¯†æ–‡ ç„¶åå’Œ headerçš„æ‘˜è¦å¯†æ–‡æ¯”å¯¹æ˜¯å¦ç›¸åŒ


ç§é’¥åŠ ç­¾ï¼ˆå‘é€ç»™å®¢æˆ·ï¼‰   å…¬é’¥è§£ç­¾
å…¬é’¥åŠ å¯†  ç§é’¥è§£å¯†


åŠ ç­¾çš„ç›®çš„ï¼šéªŒè¯ä¿¡æ¯çš„å‘é€æ–¹æ˜¯å¦æ­£ç¡®ï¼Œä¿¡æ¯æ˜¯å¦è¢«å…¶ä»–äººç¯¡æ”¹ã€‚

ä¹‹æ‰€ä»¥ç”¨å‘é€æ–¹çš„ç§é’¥åŠ ç­¾ï¼Œæ˜¯å› ä¸ºï¼Œå³ä¾¿ä¿¡æ¯è¢«é»‘å®¢æ‹¦æˆªï¼Œé»‘å®¢ä¿®æ”¹äº†ä¿¡æ¯ï¼Œä½†æ˜¯åŠ ç­¾éœ€è¦ç”¨å‘é€æ–¹çš„ç§é’¥ï¼Œé»‘å®¢æ²¡æœ‰å‘é€æ–¹çš„ç§é’¥ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•ç”Ÿæˆæ­£ç¡®çš„ç­¾åï¼Œæ¥æ”¶æ–¹éªŒç­¾å°±ä¸ç”¨é€šè¿‡ã€‚

åä¹‹å¦‚æœç”¨æ¥æ”¶æ–¹çš„å…¬é’¥åŠ ç­¾ï¼Œå¦‚æœä¿¡æ¯è¢«é»‘å®¢æ‹¦æˆªï¼Œé»‘å®¢ä¿®æ”¹äº†ä¿¡æ¯ï¼Œå› ä¸ºæ¥æ”¶æ–¹çš„å…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œé»‘å®¢å°±å¯ä»¥é‡æ–°ç”Ÿæˆæ–°çš„ç­¾åï¼Œæ›¿æ¢åŸæœ‰çš„ç­¾åï¼Œå‘é€å‡ºå»ï¼Œæ¥æ”¶æ–¹æ¥æ”¶åˆ°ä¿¡æ¯ï¼Œæ‹¿è‡ªå·±çš„å…¬é’¥æ ¡éªŒæ˜¯é€šè¿‡çš„ï¼Œæ‰€ä»¥æ¥æ”¶æ–¹æ— æ³•è¾¨åˆ«ä¿¡æ¯æ˜¯çœŸæ­£çš„å‘é€æ–¹è¿˜æ˜¯é»‘å®¢å‘é€è¿‡æ¥çš„ï¼Œè¿™æ ·çš„åŠ ç­¾ä¸èƒ½è¾¨åˆ«ä¿¡æ¯æ˜¯å¦è¢«ç¯¡æ”¹è¿‡



åŠ å¯†çš„ç›®çš„ï¼šä¿è¯ä¿¡æ¯çš„éšç§ï¼Œä¸è¢«åˆ«äººçœ‹åˆ°ï¼Œåªèƒ½è®©æ¥æ”¶æ–¹çœ‹åˆ°æ­£ç¡®çš„ä¿¡æ¯ã€‚

ä¹‹æ‰€ä»¥ç”¨æ¥æ”¶æ–¹çš„å…¬é’¥åŠ å¯†ï¼Œæ˜¯å› ä¸ºï¼Œå¦‚æœä¿¡æ¯è¢«é»‘å®¢æ‹¦æˆªï¼Œéœ€è¦ç”¨æ¥æ”¶æ–¹çš„ç§é’¥æ¥è§£å¯†ï¼Œé»‘å®¢æ— æ³•è·å–æ¥æ”¶æ–¹çš„ç§é’¥ï¼Œå³ä¾¿æ‹¦æˆªäº†ä¿¡æ¯ï¼ˆæƒ…æŠ¥ï¼‰ï¼Œé»‘å®¢ä¹Ÿæ— æ³•çœ‹åˆ°æ˜æ–‡ï¼Œåªèƒ½çœ‹å¤©ä¹¦ğŸ“šäº†ã€‚

åä¹‹ï¼Œå¦‚æœç”¨å‘é€æ–¹çš„ç§é’¥åŠ å¯†ï¼Œå¦‚æœä¿¡æ¯è¢«é»‘å®¢æ‹¦æˆªï¼Œå› ä¸ºå‘é€æ–¹çš„å…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œé»‘å®¢å°±å¯ä»¥ç”¨å‘é€æ–¹çš„å…¬é’¥è§£å¯†å¯†æ–‡è·å¾—æ˜æ–‡ï¼Œè¿™æ ·çš„åŠ å¯†æ‰€æœ‰çš„äººéƒ½å¯ä»¥çœ‹åˆ°æ˜æ–‡ï¼Œä¸èƒ½ä¿è¯ä¿¡æ¯çš„éšç§ã€‚


ä¸ºäº†è‡ªå·±ç³»ç»Ÿå®‰å…¨ è¦æ±‚å¯¹æ–¹ç»™å…¬é’¥ ï¼Œç§é’¥åŠ ç­¾ å¦åˆ™é‡‡å– ç»™å¯¹æ–¹å…¬é’¥åŠ å¯† è‡ªå·±ç§é’¥è§£å¯† ï¼Œç„¶åå®šä¹‰ä¸€ä¸ªhashæ‘˜è¦ç®—æ³•


